<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="generator" content="HTML Tidy for HTML5 for Linux version 4.9.30">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Philip Elson">
    <link rel="icon" href="https://pelson.github.io/theme/images/favicon.ico">
    <title>
      Working with colours in matplotlib by Phil Elson - Software | Science | Python
    </title><!-- Bootstrap core CSS -->
    <link href="https://pelson.github.io/theme/bootstrap/css/bootstrap.min.css" rel="stylesheet"><!-- Custom styles for this template -->
    <link href="https://pelson.github.io/theme/css/style.css" rel="stylesheet">
    <link href="https://pelson.github.io/" type="application/atom+xml" rel="alternate" title="Phil Elson - Software | Science | Python ATOM Feed">
    <link rel="stylesheet" href="https://pelson.github.io/theme/font-awesome/css/font-awesome.min.css">
    <link href="//fonts.googleapis.com/css?family=Pacifico" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://pelson.github.io/theme/css/pygments-default.css">
    <link rel="stylesheet" href="https://pelson.github.io/theme/css/notebook-styling.css">
  </head><!-- NAVBAR ================================================== -->
  <body>
    <div class="container-fullwidth">
      <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="row">
          <div id="banner" class="col-md-3 shrinker">
            <div>
              <p class="by-phil">
                <a href="https://pelson.github.io">Phil Elson</a>
              </p>
            </div>
          </div>
          <div class="col-md-6 text-center">
            <div class="brand-icons">
              <div id="nav-sci" class="col-xs-4">
                <a href="https://pelson.github.io"><i class="fa fa-icon fa-fw fa-flask"></i>
                <h2>
                  Science
                </h2></a>
              </div>
              <div id="nav-software" class="col-xs-4">
                <a href="https://pelson.github.io"><i class="nav-icon fa fa-code"></i>
                <h2>
                  Software
                </h2></a>
              </div>
              <div id="nav-oss" class="col-xs-4">
                <a href="https://pelson.github.io"><img src="https://pelson.github.io/theme/images/osi_white.png" alt="Open Source">
                <h2>
                  Open source
                </h2></a>
              </div>
            </div>
          </div>
          <div class="col-md-3 nav-toggle">
            <i class="fa fa-bars"></i>
          </div>
        </div>
        <script>
        var navbar_toggled = false;
        </script>
        <div class="actual-navbar shrink">
          <ul class="nav navbar-nav nav-pills">
            <li class="hidden-xs clearfix">
              <a href="https://pelson.github.io"><i class="fa fa-fw fa-home"></i>Home</a>
            </li>
            <li class=" clearfix">
              <a href="https://pelson.github.io/articles/"><i class="fa fa-fw fa-file-o"></i>Articles</a>
            </li>
            <li class=" clearfix">
              <a href="https://pelson.github.io/announce/"><i class="fa fa-fw fa-bullhorn"></i>Announcements</a>
            </li>
            <li class=" clearfix">
              <a href="https://pelson.github.io/field-notes/"><i class="fa fa-fw fa-map-o"></i>&nbsp;Field notes</a>
            </li>
            <li class=" clearfix">
              <a href="https://pelson.github.io/hints-n-tips/"><i class="fa fa-fw fa-list-ul"></i>Hints &amp; Tips</a>
            </li>
            <li class="hidden-xs dropdown clearfix">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="fa fa-fw fa-clock-o"></i>Recent <span class="caret"></span></a>
              <ul class="dropdown-menu dropdown-menu-right">
                <li>
                  <a href="https://pelson.github.io/2019/cf_units_tex/">cf-units get (La)TeX unit repr... and a UDUNITS-2 parser to boot</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/2018/LFRic_containment/">Investigating containment testing on LFRic's cubedsphere</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/2018/coast-path/">Analysing walks on the South West Coast Path</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/2018/hints/search-and-replace/">Recursive search and replace</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/2017/hints/applicationize/">Creating an application for a website on OSX</a>
                </li>
                <li class="nav-divider"></li>
                <li>
                  <a href="https://pelson.github.io/archives.html">See full archive (19)</a>
                </li>
              </ul>
            </li>
            <li class="hidden-xs dropdown clearfix">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="fa fa-fw fa-tags"></i>Tags <span class="caret"></span></a>
              <ul class="dropdown-menu dropdown-menu-right">
                <li>
                  <a href="https://pelson.github.io/tag/biggus/">biggus (1)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/cartopy/">cartopy (2)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/cf-units/">cf-units (1)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/cla/">CLA (1)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/conda/">conda (2)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/docker/">docker (1)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/fiona/">fiona (1)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/folium/">folium (1)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/fonts/">fonts (4)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/fuse/">FUSE (1)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/github/">GitHub (1)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/heroku/">heroku (2)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/lfric/">LFRic (1)</a>
                </li>
                <li class="active">
                  <a href="https://pelson.github.io/tag/matplotlib/">matplotlib (4)</a>
                </li>
                <li class="active">
                  <a href="https://pelson.github.io/tag/python/">Python (10)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/shapely/">shapely (2)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/tornado/">tornado (1)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/udunits-2/">UDUNITS-2 (1)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/voluminous-data/">voluminous data (1)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/xarray/">xarray (1)</a>
                </li>
                <li>
                  <a href="https://pelson.github.io/tag/xkcd/">XKCD (4)</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </nav>
      <div class="navbar-spacer"></div>
    </div>
    <div class="container">
      <h2 id="single">
        Working with colours in matplotlib
      </h2><img class="article-image" src="https://pelson.github.io/images/working_with_colors_in_matplotlib/thumb.png" alt="">
      <div class="date entry-info">
        <div style="float: left; padding: 0.5em 1em 0.5em 0em;">
          <time datetime="2013-06-03T12:00:00+01:00" class="icon"></time>
          <div class="time-icon">
            <p class="year">
              2013
            </p>
            <p class="month">
              June
            </p><span class="day">3</span>
          </div>
        </div>
        <p>
          Tags: <a href="https://pelson.github.io/tag/matplotlib/">matplotlib (4)</a>, <a href="https://pelson.github.io/tag/python/">Python (10)</a>
        </p>
      </div>
      <div class="entry">
        <p>
          When dealing with colours in scientific visualisations some people like to have a colourmap which can be indexed into to pick specific colours. Whilst this isn't necessarily the best way of handling colours in matplotlib, it certainly adds a degree of familiarity to users who have come over from other visualisation tools, such as IDL.
        </p>
        <p>
          In this article I'll cover one approach to using the colour-by-index paradigm in matplotlib.
        </p>
        <p></p>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <p>
                I've created a text file containing byte values for each of the RGB channels. I actually already had this as a numpy array, so wrote it out with:
              </p>
              <p>
                <code>np.savetxt('custom_colors.txt', colors_array, fmt='%03i', delimiter=', ')</code>
              </p>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">
              In&nbsp;[1]:
            </div>
            <div class="inner_cell">
              <div class="input_area">
                <div class=" highlight hl-ipython3">
                  <pre>
<span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'custom_colors.txt'</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fh</span><span class="o">.</span><span class="n">readlines</span><span class="p">())</span>
</pre>
                </div>
              </div>
            </div>
          </div>
          <div class="output_wrapper">
            <div class="output">
              <div class="output_area">
                <div class="prompt"></div>
                <div class="output_subarea output_stream output_stdout output_text">
                  <pre>
# R,   G,   B
255, 255, 255
000, 000, 000
250, 060, 060
000, 220, 000
030, 060, 255
000, 200, 200
240, 000, 130
230, 220, 050
240, 130, 040
160, 000, 200
160, 230, 050
000, 160, 255
230, 175, 045
# This is a comment...
000, 173, 208
135, 136, 000
185, 219, 014
215, 169, 000
119, 074, 057
156, 162, 153
237, 041, 057
255, 255, 255

</pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">
              In&nbsp;[2]:
            </div>
            <div class="inner_cell">
              <div class="input_area">
                <div class=" highlight hl-ipython3">
                  <pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">'custom_colors.txt'</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">', '</span><span class="p">)</span>

<span class="c1"># convert to RGB values in the [0, 1] interval</span>
<span class="n">colors</span> <span class="o">=</span> <span class="n">colors</span> <span class="o">/</span> <span class="mf">255.</span>

<span class="nb">print</span> <span class="n">colors</span><span class="o">.</span><span class="n">shape</span>
</pre>
                </div>
              </div>
            </div>
          </div>
          <div class="output_wrapper">
            <div class="output">
              <div class="output_area">
                <div class="prompt"></div>
                <div class="output_subarea output_stream output_stdout output_text">
                  <pre>
(21, 3)
</pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">
              In&nbsp;[3]:
            </div>
            <div class="inner_cell">
              <div class="input_area">
                <div class=" highlight hl-ipython3">
                  <pre>
<span></span><span class="kn">import</span> <span class="nn">matplotlib.colors</span> <span class="k">as</span> <span class="nn">mcolors</span>

<span class="n">my_cmap</span> <span class="o">=</span> <span class="n">mcolors</span><span class="o">.</span><span class="n">ListedColormap</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'My own color map*'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">my_cmap</span><span class="o">.</span><span class="n">N</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="n">my_cmap</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">my_cmap</span><span class="o">.</span><span class="n">N</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
                </div>
              </div>
            </div>
          </div>
          <div class="output_wrapper">
            <div class="output">
              <div class="output_area">
                <div class="prompt"></div>
                <div class="output_png output_subarea">
                  <img src="../../images/working_with_colors_in_mpl/working_with_colors_output_3_0.png">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <p>
                <code>*</code> Actually, I borrowed this colormap from Bernd Becker (<a href="https://groups.google.com/forum/?fromgroups#!topic/scitools-iris/hsb6ExNgSss">https://groups.google.com/forum/?fromgroups#!topic/scitools-iris/hsb6ExNgSss</a>).
              </p>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <p>
                Now that I have a cmap instance I can access specific colors by their index, using the call notation on the colormap:
              </p>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">
              In&nbsp;[4]:
            </div>
            <div class="inner_cell">
              <div class="input_area">
                <div class=" highlight hl-ipython3">
                  <pre>
<span></span><span class="n">plt</span><span class="o">.</span><span class="n">fill</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">my_cmap</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">fill</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">my_cmap</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
                </div>
              </div>
            </div>
          </div>
          <div class="output_wrapper">
            <div class="output">
              <div class="output_area">
                <div class="prompt"></div>
                <div class="output_png output_subarea">
                  <img src="../../images/working_with_colors_in_mpl/working_with_colors_output_6_0.png">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <p>
                It is possible to get all of the RGB values themselves fairly easily:
              </p>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">
              In&nbsp;[5]:
            </div>
            <div class="inner_cell">
              <div class="input_area">
                <div class=" highlight hl-ipython3">
                  <pre>
<span></span><span class="n">my_cmap</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">my_cmap</span><span class="o">.</span><span class="n">N</span><span class="p">))</span>
</pre>
                </div>
              </div>
            </div>
          </div>
          <div class="output_wrapper">
            <div class="output">
              <div class="output_area">
                <div class="prompt output_prompt">
                  Out[5]:
                </div>
                <div class="output_text output_subarea output_execute_result">
                  <pre>
array([[ 1.        ,  1.        ,  1.        ,  1.        ],
       [ 0.        ,  0.        ,  0.        ,  1.        ],
       [ 0.98039216,  0.23529412,  0.23529412,  1.        ],
       [ 0.        ,  0.8627451 ,  0.        ,  1.        ],
       [ 0.11764706,  0.23529412,  1.        ,  1.        ],
       [ 0.        ,  0.78431373,  0.78431373,  1.        ],
       [ 0.94117647,  0.        ,  0.50980392,  1.        ],
       [ 0.90196078,  0.8627451 ,  0.19607843,  1.        ],
       [ 0.94117647,  0.50980392,  0.15686275,  1.        ],
       [ 0.62745098,  0.        ,  0.78431373,  1.        ],
       [ 0.62745098,  0.90196078,  0.19607843,  1.        ],
       [ 0.        ,  0.62745098,  1.        ,  1.        ],
       [ 0.90196078,  0.68627451,  0.17647059,  1.        ],
       [ 0.        ,  0.67843137,  0.81568627,  1.        ],
       [ 0.52941176,  0.53333333,  0.        ,  1.        ],
       [ 0.7254902 ,  0.85882353,  0.05490196,  1.        ],
       [ 0.84313725,  0.6627451 ,  0.        ,  1.        ],
       [ 0.46666667,  0.29019608,  0.22352941,  1.        ],
       [ 0.61176471,  0.63529412,  0.6       ,  1.        ],
       [ 0.92941176,  0.16078431,  0.22352941,  1.        ],
       [ 1.        ,  1.        ,  1.        ,  1.        ]])
</pre>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <p>
                To visualize specific colors using pcolormesh, we need to avoid using a normalization of the data by using <code>matplotlib.colors.NoNorm()</code> and need a 2d array of colors
              </p>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">
              In&nbsp;[6]:
            </div>
            <div class="inner_cell">
              <div class="input_area">
                <div class=" highlight hl-ipython3">
                  <pre>
<span></span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">17</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">ndmin</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="n">norm</span><span class="o">=</span><span class="n">mcolors</span><span class="o">.</span><span class="n">NoNorm</span><span class="p">(),</span> <span class="n">cmap</span><span class="o">=</span><span class="n">my_cmap</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
                </div>
              </div>
            </div>
          </div>
          <div class="output_wrapper">
            <div class="output">
              <div class="output_area">
                <div class="prompt"></div>
                <div class="output_png output_subarea">
                  <img src="../../images/working_with_colors_in_mpl/working_with_colors_output_10_0.png">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing text_cell rendered">
          <div class="prompt input_prompt"></div>
          <div class="inner_cell">
            <div class="text_cell_render border-box-sizing rendered_html">
              <p>
                Using a recent change applied to matplotlib (available in matplotlib v1.3 after <a href="https://github.com/matplotlib/matplotlib/pull/2002">https://github.com/matplotlib/matplotlib/pull/2002</a>) it is possible to pick specific colours to go with levels when contouring with an extend argument:
              </p>
            </div>
          </div>
        </div>
        <div class="cell border-box-sizing code_cell rendered">
          <div class="input">
            <div class="prompt input_prompt">
              In&nbsp;[7]:
            </div>
            <div class="inner_cell">
              <div class="input_area">
                <div class=" highlight hl-ipython3">
                  <pre>
<span></span><span class="kn">import</span> <span class="nn">cartopy.crs</span> <span class="k">as</span> <span class="nn">ccrs</span>
<span class="kn">import</span> <span class="nn">iris</span>
<span class="kn">import</span> <span class="nn">iris.quickplot</span> <span class="k">as</span> <span class="nn">qplt</span>


<span class="n">fname</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">sample_data_path</span><span class="p">(</span><span class="s1">'air_temp.pp'</span><span class="p">)</span>
<span class="n">temperature</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">load_cube</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>

<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">17</span><span class="p">]</span>
<span class="n">levels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">263</span><span class="p">,</span> <span class="mi">273</span><span class="p">,</span> <span class="mi">288</span><span class="p">,</span> <span class="mi">298</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(</span><span class="n">central_longitude</span><span class="o">=-</span><span class="mi">180</span><span class="p">))</span>

<span class="n">cs</span> <span class="o">=</span> <span class="n">qplt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">temperature</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">my_cmap</span><span class="p">(</span><span class="n">colors</span><span class="p">),</span> <span class="n">levels</span><span class="o">=</span><span class="n">levels</span><span class="p">,</span> <span class="n">extend</span><span class="o">=</span><span class="s1">'both'</span><span class="p">)</span>

<span class="c1"># Get hold of the colorbar instance and update its extendfrac length</span>
<span class="n">cbar</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">colorbar</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cbar</span><span class="o">.</span><span class="n">extendfrac</span> <span class="o">=</span> <span class="mf">0.15</span>
<span class="n">cs</span><span class="o">.</span><span class="n">changed</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
                </div>
              </div>
            </div>
          </div>
          <div class="output_wrapper">
            <div class="output">
              <div class="output_area">
                <div class="prompt"></div>
                <div class="output_png output_subarea">
                  <img src="../../images/working_with_colors_in_mpl/working_with_colors_output_12_0.png">
                </div>
              </div>
            </div>
          </div>
        </div>
        <p></p>
        <p>
          This article certainly shows a way of handling the colour-by-index paradigm, though it must be said that handling colours like this in matplotlib is not necessarily the best approach - I'll leave that to a future article.
        </p>
        <p>
          Find this useful? How do you handle colours in your matplotlib figures? Is there a killer feature you think matplotlib is missing out on? Let me know via the comments section.
        </p>
      </div>
      <hr>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
      var disqus_shortname = "pelson";
      var disqus_identifier = "working_with_colors_in_matplotlib";

      (function() {
      var dsq = document.createElement("script");
      dsq.type = "text/javascript";
      dsq.async = true;
      dsq.src = "//" + disqus_shortname + ".disqus.com/embed.js";
      (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
      })();
      </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <!-- /END THE FEATURETTES -->
      <div class="clearfix"></div>
      <hr class="featurette-divider">
      <!-- FOOTER -->
      <footer>
        <p class="pull-right">
          <a href="#">Back to top</a>
        </p>
        <p>
          © 2017 Phil Elson · <a href="https://pelson.github.io#">About</a> · <a href="https://pelson.github.io#contact">Contact</a> · <a href="https://pelson.github.io/feeds/atom.xml"><i class="fa fa-fw fa-rss-square"></i>RSS</a>
        </p>
      </footer>
    </div><!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://pelson.github.io/theme/jquery.min.js">
    </script> 
    <script src="https://pelson.github.io/theme/bootstrap.min.js">
    </script> 
    <script src="https://pelson.github.io/theme/js/scroll.js">
    </script> 
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-29774503-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </body>
</html>
